================================================================================
PYTEST PROFILE REPORT
================================================================================

Test: tests/utils/test_git_workflows.py::TestGitWorkflows::test_get_git_diff_complete_workflow
Duration: 15.390 seconds
Profile file: tests_utils_test_git_workflows__TestGitWorkflows__test_get_git_diff_complete_workflow.prof

SUMMARY
--------------------------------------------------------------------------------
Wed Oct  8 07:58:33 2025    docs\tests\performance_data\prof\tests_utils_test_git_workflows__TestGitWorkflows__test_get_git_diff_complete_workflow.prof

         78392 function calls (77884 primitive calls) in 15.390 seconds


TOP FUNCTIONS BY CUMULATIVE TIME
--------------------------------------------------------------------------------
This shows functions sorted by total time spent, including time in called functions.

Wed Oct  8 07:58:33 2025    docs\tests\performance_data\prof\tests_utils_test_git_workflows__TestGitWorkflows__test_get_git_diff_complete_workflow.prof

         78392 function calls (77884 primitive calls) in 15.390 seconds

   Ordered by: cumulative time
   List reduced from 936 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000   15.389   15.389 runner.py:114(pytest_runtest_protocol)
        1    0.000    0.000   15.389   15.389 runner.py:122(runtestprotocol)
        3    0.000    0.000   15.262    5.087 runner.py:230(call_and_report)
    24/11    0.000    0.000   15.262    1.387 _hooks.py:497(__call__)
    24/11    0.000    0.000   15.262    1.387 _manager.py:111(_hookexec)
    24/11    0.000    0.000   15.262    1.387 _callers.py:76(_multicall)
        3    0.000    0.000   15.262    5.087 runner.py:323(from_call)
        3    0.000    0.000   15.261    5.087 runner.py:246(<lambda>)
        1    0.000    0.000   15.097   15.097 runner.py:167(pytest_runtest_call)
        1    0.000    0.000   15.097   15.097 python.py:1669(runtest)
        1    0.000    0.000   15.097   15.097 python.py:150(pytest_pyfunc_call)
        1    0.000    0.000   15.097   15.097 test_git_workflows.py:1512(test_get_git_diff_complete_workflow)
       77    0.001    0.000    9.417    0.122 base.py:333(close)
      154    9.387    0.061    9.387    0.061 {built-in method gc.collect}
  317/304    0.001    0.000    7.204    0.024 {built-in method builtins.next}
      133    0.000    0.000    7.153    0.054 contextlib.py:145(__exit__)
        7    0.000    0.000    6.127    0.875 diffs.py:16(get_git_diff_for_commit)
        2    0.000    0.000    5.944    2.972 commits.py:86(commit_all_changes)
       20    0.000    0.000    4.890    0.244 repository.py:11(is_git_repository)
       76    0.000    0.000    4.748    0.062 core.py:61(_safe_repo_context)
       39    0.000    0.000    4.714    0.121 base.py:327(__del__)
       38    0.000    0.000    4.703    0.124 core.py:36(_close_repo_safely)
        3    0.000    0.000    3.881    1.294 commits.py:18(commit_staged_files)
       44    0.001    0.000    2.471    0.056 cmd.py:1540(_call_process)
       44    0.001    0.000    2.469    0.056 cmd.py:1096(execute)
       31    0.000    0.000    2.434    0.079 cmd.py:1003(<lambda>)
      588    2.345    0.004    2.345    0.004 {method 'readline' of '_io.BufferedReader' objects}
       18    0.000    0.000    2.336    0.130 subprocess.py:1175(communicate)
       18    0.000    0.000    2.327    0.129 subprocess.py:1613(_communicate)
       36    0.000    0.000    2.326    0.065 threading.py:1056(join)
       36    0.003    0.000    2.325    0.065 {method 'join' of '_thread._ThreadHandle' objects}
    36/18    0.000    0.000    2.322    0.129 threading.py:998(_bootstrap)
    36/18    0.005    0.000    2.322    0.129 threading.py:1025(_bootstrap_inner)
        2    0.000    0.000    2.319    1.159 staging.py:79(stage_all_changes)
    36/18    0.001    0.000    2.318    0.129 threading.py:981(run)
    36/18    0.000    0.000    2.316    0.129 subprocess.py:1608(_readerthread)
  160/142    0.001    0.000    2.316    0.016 {method 'close' of '_io.BufferedReader' objects}
       35    0.000    0.000    1.589    0.045 cmd.py:1676(__get_object_header)
        3    0.000    0.000    1.529    0.510 repository.py:35(get_staged_changes)
       26    0.000    0.000    1.132    0.044 base.py:136(new_from_sha)
       26    0.000    0.000    1.131    0.043 db.py:39(info)
       26    0.000    0.000    1.130    0.043 cmd.py:1684(get_object_header)
       30    0.000    0.000    1.044    0.035 symbolic.py:389(commit)
       30    0.000    0.000    1.044    0.035 symbolic.py:289(_get_commit)
       30    0.000    0.000    1.044    0.035 symbolic.py:279(_get_object)
        2    0.000    0.000    1.039    0.519 repository.py:72(get_unstaged_changes)
        7    0.000    0.000    0.959    0.137 diffs.py:217(_generate_untracked_diff)
        7    0.000    0.000    0.914    0.131 base.py:981(untracked_files)
        7    0.889    0.127    0.914    0.131 base.py:999(_get_untracked_files)
        3    0.000    0.000    0.876    0.292 base.py:1126(commit)



TOP FUNCTIONS BY INTERNAL TIME (TIME)
--------------------------------------------------------------------------------
This shows functions sorted by time spent in the function itself (excluding subcalls).

Wed Oct  8 07:58:33 2025    docs\tests\performance_data\prof\tests_utils_test_git_workflows__TestGitWorkflows__test_get_git_diff_complete_workflow.prof

         78392 function calls (77884 primitive calls) in 15.390 seconds

   Ordered by: internal time
   List reduced from 936 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
      154    9.387    0.061    9.387    0.061 {built-in method gc.collect}
      588    2.345    0.004    2.345    0.004 {method 'readline' of '_io.BufferedReader' objects}
    59/41    2.311    0.039    0.001    0.000 {method 'read' of '_io.BufferedReader' objects}
        7    0.889    0.127    0.914    0.131 base.py:999(_get_untracked_files)
      302    0.145    0.000    0.147    0.000 {built-in method _io.open}
       44    0.107    0.002    0.107    0.002 {built-in method _winapi.CreateProcess}
       57    0.042    0.001    0.042    0.001 {built-in method _winapi.WaitForSingleObject}
       49    0.026    0.001    0.026    0.001 {built-in method nt.open}
      322    0.008    0.000    0.008    0.000 {built-in method nt._path_isdir}
       58    0.005    0.000    0.005    0.000 {built-in method nt._path_exists}
    36/18    0.005    0.000    2.322    0.129 threading.py:1025(_bootstrap_inner)
      143    0.003    0.000    0.003    0.000 {method '__exit__' of '_io._IOBase' objects}
       14    0.003    0.000    0.003    0.000 {built-in method nt.rename}
       36    0.003    0.000    2.325    0.065 {method 'join' of '_thread._ThreadHandle' objects}
      146    0.003    0.000    0.003    0.000 {built-in method nt._path_isfile}
       43    0.003    0.000    0.003    0.000 {built-in method builtins.dir}
       49    0.003    0.000    0.007    0.000 config.py:439(_read)
       73    0.002    0.000    0.003    0.000 {method 'read' of '_io.TextIOWrapper' objects}
       15    0.002    0.000    0.002    0.000 {built-in method nt.mkdir}
       53    0.002    0.000    0.002    0.000 {built-in method nt.access}
     6527    0.002    0.000    0.002    0.000 {method 'match' of 're.Pattern' objects}
     3208    0.002    0.000    0.005    0.000 <frozen os>:711(__getitem__)
       47    0.002    0.000    0.002    0.000 {built-in method nt.putenv}
     1035    0.002    0.000    0.002    0.000 cmd.py:989(__getattribute__)
        1    0.002    0.002    0.002    0.002 pathlib.py:173(find_prefixed)
       14    0.002    0.000    0.002    0.000 {built-in method nt.remove}
       41    0.002    0.000    0.002    0.000 {built-in method nt.stat}
      101    0.002    0.000    0.002    0.000 {built-in method _winapi.CreatePipe}
       44    0.001    0.000    0.007    0.000 <frozen os>:750(copy)
     3300    0.001    0.000    0.003    0.000 <frozen os>:785(encodekey)
      635    0.001    0.000    0.002    0.000 <frozen ntpath>:99(join)
       39    0.001    0.000    0.047    0.001 base.py:172(__init__)
       36    0.001    0.000    0.001    0.000 {built-in method _thread.start_joinable_thread}
  160/142    0.001    0.000    2.316    0.016 {method 'close' of '_io.BufferedReader' objects}
       44    0.001    0.000    2.471    0.056 cmd.py:1540(_call_process)
       77    0.001    0.000    9.417    0.122 base.py:333(close)
       44    0.001    0.000    2.469    0.056 cmd.py:1096(execute)
       21    0.001    0.000    0.001    0.000 {built-in method nt.chmod}
     6390    0.001    0.000    0.001    0.000 {built-in method builtins.isinstance}
       43    0.001    0.000    0.005    0.000 configparser.py:1343(__init__)
       45    0.001    0.000    0.001    0.000 {built-in method nt.unsetenv}
       41    0.001    0.000    0.001    0.000 {built-in method nt.write}
       49    0.001    0.000    0.001    0.000 {built-in method nt.close}
       13    0.001    0.000    0.001    0.000 {built-in method _winapi.TerminateProcess}
       44    0.001    0.000    0.111    0.003 subprocess.py:1446(_execute_child)
       19    0.001    0.000    0.001    0.000 {method 'close' of '_io.BufferedWriter' objects}
  317/304    0.001    0.000    7.204    0.024 {built-in method builtins.next}
       43    0.001    0.000    0.007    0.000 configparser.py:629(__init__)
       44    0.001    0.000    0.116    0.003 subprocess.py:814(__init__)
     3124    0.001    0.000    0.001    0.000 <frozen os>:734(__iter__)



CALLER INFORMATION (Top 20)
--------------------------------------------------------------------------------
This shows which functions called the top functions.

   Ordered by: cumulative time
   List reduced from 936 to 20 due to restriction <20>

Function                                                         was called by...
                                                                     ncalls  tottime  cumtime
runner.py:114(pytest_runtest_protocol)                           <- 
runner.py:122(runtestprotocol)                                   <-       1    0.000   15.389  runner.py:114(pytest_runtest_protocol)
runner.py:230(call_and_report)                                   <-       3    0.000   15.262  runner.py:122(runtestprotocol)
_hooks.py:497(__call__)                                          <-       5    0.000    0.000  fixtures.py:1053(finish)
                                                                          4    0.000    0.161  fixtures.py:1074(execute)
                                                                          1    0.000   15.097  python.py:1669(runtest)
                                                                          2    0.000    0.000  runner.py:114(pytest_runtest_protocol)
                                                                          6    0.000    0.001  runner.py:230(call_and_report)
                                                                          3    0.000   15.261  runner.py:246(<lambda>)
                                                                          3    0.000    0.000  terminal.py:605(pytest_runtest_logreport)
_manager.py:111(_hookexec)                                       <-   24/11    0.000   15.262  _hooks.py:497(__call__)
_callers.py:76(_multicall)                                       <-   24/11    0.000   15.262  _manager.py:111(_hookexec)
runner.py:323(from_call)                                         <-       3    0.000   15.262  runner.py:230(call_and_report)
runner.py:246(<lambda>)                                          <-       3    0.000   15.261  runner.py:323(from_call)
runner.py:167(pytest_runtest_call)                               <-       1    0.000   15.097  _callers.py:76(_multicall)
python.py:1669(runtest)                                          <-       1    0.000   15.097  runner.py:167(pytest_runtest_call)
python.py:150(pytest_pyfunc_call)                                <-       1    0.000   15.097  _callers.py:76(_multicall)
test_git_workflows.py:1512(test_get_git_diff_complete_workflow)  <-       1    0.000   15.097  python.py:150(pytest_pyfunc_call)
base.py:333(close)                                               <-      39    0.001    4.714  base.py:327(__del__)
                                                                         38    0.000    4.703  core.py:36(_close_repo_safely)
{built-in method gc.collect}                                     <-     154    9.387    9.387  base.py:333(close)
{built-in method builtins.next}                                  <-       5    0.000    0.000  _callers.py:25(run_old_style_hookwrapper)
                                                                         26    0.000    0.000  _callers.py:76(_multicall)
                                                                        133    0.000    0.047  contextlib.py:136(__enter__)
                                                                        133    0.001    7.153  contextlib.py:145(__exit__)
                                                                          3    0.000    0.003  fixtures.py:916(call_fixture_func)
                                                                          3    0.000    0.002  fixtures.py:934(_teardown_yield_fixture)
                                                                          1    0.000    0.000  nodes.py:365(get_closest_marker)
                                                                          9    0.000    0.000  tempfile.py:243(_mkstemp_inner)
contextlib.py:145(__exit__)                                      <-       1    0.000    0.000  capture.py:892(pytest_runtest_setup)
                                                                          1    0.000    0.000  capture.py:897(pytest_runtest_call)
                                                                          1    0.000    0.000  capture.py:902(pytest_runtest_teardown)
                                                                         44    0.000    0.001  cmd.py:233(_safer_popen_windows)
                                                                          3    0.000    0.387  commits.py:18(commit_staged_files)
                                                                          7    0.000    0.876  diffs.py:16(get_git_diff_for_commit)
                                                                          1    0.000    0.000  logging.py:836(pytest_runtest_setup)
                                                                          1    0.000    0.000  logging.py:845(pytest_runtest_call)
                                                                          1    0.000    0.000  logging.py:852(pytest_runtest_teardown)
                                                                         20    0.000    4.866  repository.py:11(is_git_repository)
                                                                          3    0.000    0.394  repository.py:35(get_staged_changes)
                                                                          2    0.000    0.257  repository.py:72(get_unstaged_changes)
                                                                          1    0.000    0.115  staging.py:12(stage_specific_files)
                                                                          2    0.000    0.257  staging.py:79(stage_all_changes)
                                                                         44    0.000    0.000  subprocess.py:1345(_get_handles)
                                                                          1    0.000    0.000  warnings.py:85(pytest_runtest_protocol)
diffs.py:16(get_git_diff_for_commit)                             <-       7    0.000    6.127  test_git_workflows.py:1512(test_get_git_diff_complete_workflow)
commits.py:86(commit_all_changes)                                <-       2    0.000    5.944  test_git_workflows.py:1512(test_get_git_diff_complete_workflow)
repository.py:11(is_git_repository)                              <-       3    0.000    0.718  commits.py:18(commit_staged_files)
                                                                          2    0.000    0.498  commits.py:86(commit_all_changes)
                                                                          7    0.000    1.707  diffs.py:16(get_git_diff_for_commit)
                                                                          3    0.000    0.735  repository.py:35(get_staged_changes)
                                                                          2    0.000    0.505  repository.py:72(get_unstaged_changes)
                                                                          1    0.000    0.226  staging.py:12(stage_specific_files)
                                                                          2    0.000    0.500  staging.py:79(stage_all_changes)
core.py:61(_safe_repo_context)                                   <-      76    0.000    4.748  {built-in method builtins.next}


