================================================================================
PYTEST PROFILE REPORT
================================================================================

Test: tests/llm/providers/claude/test_claude_integration.py::TestCriticalPathIntegration::test_interface_contracts
Duration: 66.507 seconds
Profile file: tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_interface_contracts.prof

SUMMARY
--------------------------------------------------------------------------------
Wed Oct  8 07:46:33 2025    docs\tests\performance_data\prof\tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_interface_contracts.prof

         41203 function calls (40969 primitive calls) in 66.507 seconds


TOP FUNCTIONS BY CUMULATIVE TIME
--------------------------------------------------------------------------------
This shows functions sorted by total time spent, including time in called functions.

Wed Oct  8 07:46:33 2025    docs\tests\performance_data\prof\tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_interface_contracts.prof

         41203 function calls (40969 primitive calls) in 66.507 seconds

   Ordered by: cumulative time
   List reduced from 920 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000   66.507   66.507 runner.py:114(pytest_runtest_protocol)
        1    0.000    0.000   66.507   66.507 runner.py:122(runtestprotocol)
        3    0.000    0.000   66.507   22.169 runner.py:230(call_and_report)
    19/11    0.000    0.000   66.507    6.046 _hooks.py:497(__call__)
    19/11    0.000    0.000   66.507    6.046 _manager.py:111(_hookexec)
    19/11    0.000    0.000   66.507    6.046 _callers.py:76(_multicall)
        3    0.000    0.000   66.506   22.169 runner.py:323(from_call)
        3    0.000    0.000   66.506   22.169 runner.py:246(<lambda>)
        1    0.000    0.000   66.503   66.503 runner.py:167(pytest_runtest_call)
        1    0.000    0.000   66.503   66.503 python.py:1669(runtest)
        1    0.000    0.000   66.503   66.503 python.py:150(pytest_pyfunc_call)
        1    0.000    0.000   66.503   66.503 test_claude_integration.py:76(test_interface_contracts)
        2    0.000    0.000   66.420   33.210 claude_code_api.py:383(ask_claude_code_api)
        2    0.000    0.000   66.420   33.210 claude_code_api.py:598(ask_claude_code_api_detailed_sync)
        2    0.000    0.000   66.420   33.210 runners.py:160(run)
        6    0.000    0.000   66.418   11.070 base_events.py:685(run_until_complete)
        6    0.000    0.000   66.418   11.070 base_events.py:674(run_forever)
        2    0.000    0.000   66.417   33.209 runners.py:86(run)
       88    0.001    0.000   66.417    0.755 base_events.py:1947(_run_once)
       88    0.000    0.000   35.686    0.406 windows_events.py:444(select)
       90    0.001    0.000   35.686    0.397 windows_events.py:762(_poll)
      110   35.684    0.324   35.684    0.324 {built-in method _overlapped.GetQueuedCompletionStatus}
        1    0.000    0.000   33.574   33.574 interface.py:92(prompt_llm)
        1    0.000    0.000   32.846   32.846 interface.py:19(ask_llm)
        1    0.000    0.000   32.846   32.846 claude_code_interface.py:7(ask_claude_code)
      122    0.000    0.000   30.731    0.252 events.py:87(_run)
      122    0.000    0.000   30.731    0.252 {method 'run' of '_contextvars.Context' objects}
       28    0.000    0.000   30.728    1.097 claude_code_api.py:456(ask_claude_code_api_detailed)
        5    0.000    0.000   30.721    6.144 subprocess.py:1175(communicate)
        2    0.000    0.000   30.701   15.350 claude_code_api.py:212(_create_claude_client)
        2    0.000    0.000   30.701   15.350 claude_code_api.py:118(_verify_claude_before_use)
        2    0.000    0.000   30.673   15.336 claude_executable_finder.py:145(verify_claude_installation)
        4    0.000    0.000   30.659    7.665 subprocess_runner.py:571(execute_command)
        4    0.000    0.000   30.659    7.665 subprocess_runner.py:478(execute_subprocess)
        4    0.000    0.000   30.658    7.664 subprocess_runner.py:133(_run_subprocess)
        5    0.000    0.000   30.568    6.114 subprocess.py:1613(_communicate)
       10    0.000    0.000   30.568    3.057 threading.py:1056(join)
       10    0.001    0.000   30.567    3.057 {method 'join' of '_thread._ThreadHandle' objects}
     10/5    0.000    0.000   30.566    6.113 threading.py:998(_bootstrap)
     10/5    0.002    0.000   30.566    6.113 threading.py:1025(_bootstrap_inner)
     10/5    0.000    0.000   30.565    6.113 threading.py:981(run)
     10/5    0.000    0.000   30.564    6.113 subprocess.py:1608(_readerthread)
    22/17    0.000    0.000   30.564    1.798 {method 'close' of '_io.TextIOWrapper' objects}
        2    0.000    0.000   15.373    7.687 claude_executable_finder.py:48(find_claude_executable)
        6    0.000    0.000    0.153    0.025 subprocess.py:1269(wait)
        6    0.000    0.000    0.153    0.025 subprocess.py:1590(_wait)
       11    0.153    0.014    0.153    0.014 {built-in method _winapi.WaitForSingleObject}
        1    0.000    0.000    0.083    0.083 env.py:16(prepare_llm_environment)
        1    0.000    0.000    0.083    0.083 detection.py:48(detect_python_environment)
        1    0.000    0.000    0.082    0.082 detection.py:235(validate_python_executable)



TOP FUNCTIONS BY INTERNAL TIME (TIME)
--------------------------------------------------------------------------------
This shows functions sorted by time spent in the function itself (excluding subcalls).

Wed Oct  8 07:46:33 2025    docs\tests\performance_data\prof\tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_interface_contracts.prof

         41203 function calls (40969 primitive calls) in 66.507 seconds

   Ordered by: internal time
   List reduced from 920 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
      110   35.684    0.324   35.684    0.324 {built-in method _overlapped.GetQueuedCompletionStatus}
    16/11   30.563    1.910    0.000    0.000 {method 'read' of '_io.TextIOWrapper' objects}
       11    0.153    0.014    0.153    0.014 {built-in method _winapi.WaitForSingleObject}
     3376    0.045    0.000    0.045    0.000 {built-in method nt._path_exists}
        7    0.025    0.004    0.025    0.004 {built-in method _winapi.CreateProcess}
     3391    0.004    0.000    0.006    0.000 <frozen ntpath>:99(join)
        8    0.002    0.000    0.056    0.007 shutil.py:1503(which)
     10/5    0.002    0.000   30.566    6.113 threading.py:1025(_bootstrap_inner)
     6841    0.002    0.000    0.002    0.000 {built-in method nt._path_splitroot_ex}
       38    0.001    0.000    0.002    0.000 {built-in method nt.stat}
       10    0.001    0.000   30.567    3.057 {method 'join' of '_thread._ThreadHandle' objects}
     3376    0.001    0.000    0.046    0.000 shutil.py:1488(_access_check)
     4761    0.001    0.000    0.001    0.000 {built-in method builtins.isinstance}
       90    0.001    0.000   35.686    0.397 windows_events.py:762(_poll)
       88    0.001    0.000   66.417    0.755 base_events.py:1947(_run_once)
       53    0.000    0.000    0.000    0.000 {built-in method _winapi.CloseHandle}
     3764    0.000    0.000    0.000    0.000 {built-in method nt.fspath}
       10    0.000    0.000    0.000    0.000 {built-in method _thread.start_joinable_thread}
        2    0.000    0.000    0.000    0.000 {method 'connect' of '_socket.socket' objects}
    22/17    0.000    0.000   30.564    1.798 {method 'close' of '_io.TextIOWrapper' objects}
      461    0.000    0.000    0.001    0.000 <frozen os>:711(__getitem__)
      122    0.000    0.000   30.731    0.252 {method 'run' of '_contextvars.Context' objects}
        4    0.000    0.000   30.659    7.665 subprocess_runner.py:478(execute_subprocess)
        4    0.000    0.000    0.000    0.000 {built-in method nt._getfinalpathname}
      242    0.000    0.000    0.001    0.000 <frozen ntpath>:50(normcase)
        6    0.000    0.000    0.000    0.000 {built-in method nt.scandir}
      124    0.000    0.000    0.000    0.000 base_events.py:848(_call_soon)
      242    0.000    0.000    0.000    0.000 {built-in method _winapi.LCMapStringEx}
      467    0.000    0.000    0.000    0.000 <frozen os>:785(encodekey)
        6    0.000    0.000    0.000    0.000 {function socket.close at 0x0000016C7D7AA5C0}
        7    0.000    0.000    0.027    0.004 subprocess.py:814(__init__)
        2    0.000    0.000    0.000    0.000 {method 'listen' of '_socket.socket' objects}
        5    0.000    0.000    0.000    0.000 glob.py:424(select_wildcard)
       10    0.000    0.000    0.000    0.000 {built-in method _winapi.CreatePipe}
     10/5    0.000    0.000   30.565    6.113 threading.py:981(run)
        8    0.000    0.000    0.000    0.000 {built-in method nt.access}
       24    0.000    0.000    0.001    0.000 memory.py:108(receive)
        2    0.000    0.000    0.000    0.000 {method 'bind' of '_socket.socket' objects}
       45    0.000    0.000    0.000    0.000 _local.py:257(_parse_path)
        7    0.000    0.000    0.000    0.000 {method 'flush' of '_io.TextIOWrapper' objects}
        7    0.000    0.000    0.026    0.004 subprocess.py:1446(_execute_child)
        5    0.000    0.000    0.000    0.000 {built-in method nt.putenv}
        7    0.000    0.000    0.000    0.000 subprocess.py:582(list2cmdline)
        6    0.000    0.000    0.000    0.000 socket.py:221(__init__)
    19/11    0.000    0.000   66.507    6.046 _callers.py:76(_multicall)
        4    0.000    0.000    0.001    0.000 <frozen os>:750(copy)
       10    0.000    0.000    0.001    0.000 proactor_events.py:276(_loop_reading)
    50/40    0.000    0.000    0.000    0.000 {method 'acquire' of '_thread.lock' objects}
       10    0.000    0.000    0.000    0.000 threading.py:869(__init__)
        6    0.000    0.000    0.000    0.000 {method 'read' of '_io.FileIO' objects}



CALLER INFORMATION (Top 20)
--------------------------------------------------------------------------------
This shows which functions called the top functions.

   Ordered by: cumulative time
   List reduced from 920 to 20 due to restriction <20>

Function                                                   was called by...
                                                               ncalls  tottime  cumtime
runner.py:114(pytest_runtest_protocol)                     <- 
runner.py:122(runtestprotocol)                             <-       1    0.000   66.507  runner.py:114(pytest_runtest_protocol)
runner.py:230(call_and_report)                             <-       3    0.000   66.507  runner.py:122(runtestprotocol)
_hooks.py:497(__call__)                                    <-       2    0.000    0.000  fixtures.py:1053(finish)
                                                                    2    0.000    0.000  fixtures.py:1074(execute)
                                                                    1    0.000   66.503  python.py:1669(runtest)
                                                                    2    0.000    0.000  runner.py:114(pytest_runtest_protocol)
                                                                    6    0.000    0.001  runner.py:230(call_and_report)
                                                                    3    0.000   66.506  runner.py:246(<lambda>)
                                                                    3    0.000    0.000  terminal.py:605(pytest_runtest_logreport)
_manager.py:111(_hookexec)                                 <-   19/11    0.000   66.507  _hooks.py:497(__call__)
_callers.py:76(_multicall)                                 <-   19/11    0.000   66.507  _manager.py:111(_hookexec)
runner.py:323(from_call)                                   <-       3    0.000   66.506  runner.py:230(call_and_report)
runner.py:246(<lambda>)                                    <-       3    0.000   66.506  runner.py:323(from_call)
runner.py:167(pytest_runtest_call)                         <-       1    0.000   66.503  _callers.py:76(_multicall)
python.py:1669(runtest)                                    <-       1    0.000   66.503  runner.py:167(pytest_runtest_call)
python.py:150(pytest_pyfunc_call)                          <-       1    0.000   66.503  _callers.py:76(_multicall)
test_claude_integration.py:76(test_interface_contracts)    <-       1    0.000   66.503  python.py:150(pytest_pyfunc_call)
claude_code_api.py:383(ask_claude_code_api)                <-       1    0.000   32.846  claude_code_interface.py:7(ask_claude_code)
                                                                    1    0.000   33.574  interface.py:92(prompt_llm)
claude_code_api.py:598(ask_claude_code_api_detailed_sync)  <-       2    0.000   66.420  claude_code_api.py:383(ask_claude_code_api)
runners.py:160(run)                                        <-       2    0.000   66.420  claude_code_api.py:598(ask_claude_code_api_detailed_sync)
base_events.py:685(run_until_complete)                     <-       4    0.000    0.000  runners.py:64(close)
                                                                    2    0.000   66.417  runners.py:86(run)
base_events.py:674(run_forever)                            <-       6    0.000   66.418  base_events.py:685(run_until_complete)
runners.py:86(run)                                         <-       2    0.000   66.417  runners.py:160(run)
base_events.py:1947(_run_once)                             <-      88    0.001   66.417  base_events.py:674(run_forever)
windows_events.py:444(select)                              <-      88    0.000   35.686  base_events.py:1947(_run_once)


