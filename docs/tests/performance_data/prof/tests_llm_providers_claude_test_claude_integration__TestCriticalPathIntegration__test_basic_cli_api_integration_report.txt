================================================================================
PYTEST PROFILE REPORT
================================================================================

Test: tests/llm/providers/claude/test_claude_integration.py::TestCriticalPathIntegration::test_basic_cli_api_integration
Duration: 58.388 seconds
Profile file: tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_basic_cli_api_integration.prof

SUMMARY
--------------------------------------------------------------------------------
Wed Oct  8 07:45:26 2025    docs\tests\performance_data\prof\tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_basic_cli_api_integration.prof

         31266 function calls (31002 primitive calls) in 58.388 seconds


TOP FUNCTIONS BY CUMULATIVE TIME
--------------------------------------------------------------------------------
This shows functions sorted by total time spent, including time in called functions.

Wed Oct  8 07:45:26 2025    docs\tests\performance_data\prof\tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_basic_cli_api_integration.prof

         31266 function calls (31002 primitive calls) in 58.388 seconds

   Ordered by: cumulative time
   List reduced from 1172 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000   58.388   58.388 runner.py:114(pytest_runtest_protocol)
        1    0.000    0.000   58.388   58.388 runner.py:122(runtestprotocol)
        3    0.000    0.000   58.387   19.462 runner.py:230(call_and_report)
    19/11    0.000    0.000   58.387    5.308 _hooks.py:497(__call__)
    19/11    0.000    0.000   58.387    5.308 _manager.py:111(_hookexec)
    19/11    0.000    0.000   58.387    5.308 _callers.py:76(_multicall)
        3    0.000    0.000   58.387   19.462 runner.py:323(from_call)
        3    0.000    0.000   58.387   19.462 runner.py:246(<lambda>)
        1    0.000    0.000   58.384   58.384 runner.py:167(pytest_runtest_call)
        1    0.000    0.000   58.384   58.384 python.py:1669(runtest)
        1    0.000    0.000   58.383   58.383 python.py:150(pytest_pyfunc_call)
        1    0.000    0.000   58.383   58.383 test_claude_integration.py:42(test_basic_cli_api_integration)
        2    0.000    0.000   58.298   29.149 interface.py:19(ask_llm)
        2    0.000    0.000   58.298   29.149 claude_code_interface.py:7(ask_claude_code)
        5    0.000    0.000   41.286    8.257 subprocess.py:1175(communicate)
        4    0.000    0.000   41.227   10.307 subprocess_runner.py:478(execute_subprocess)
        4    0.000    0.000   41.226   10.306 subprocess_runner.py:133(_run_subprocess)
        5    0.000    0.000   41.142    8.228 subprocess.py:1613(_communicate)
       10    0.000    0.000   41.142    4.114 threading.py:1056(join)
       10    0.001    0.000   41.141    4.114 {method 'join' of '_thread._ThreadHandle' objects}
     10/5    0.000    0.000   41.140    8.228 threading.py:998(_bootstrap)
     10/5    0.002    0.000   41.140    8.228 threading.py:1025(_bootstrap_inner)
     10/5    0.000    0.000   41.139    8.228 threading.py:981(run)
     10/5    0.000    0.000   41.138    8.228 subprocess.py:1608(_readerthread)
        1    0.000    0.000   32.741   32.741 claude_code_api.py:383(ask_claude_code_api)
        1    0.000    0.000   32.741   32.741 claude_code_api.py:598(ask_claude_code_api_detailed_sync)
        1    0.000    0.000   32.741   32.741 runners.py:160(run)
        3    0.000    0.000   32.740   10.913 base_events.py:685(run_until_complete)
        3    0.000    0.000   32.740   10.913 base_events.py:674(run_forever)
        1    0.000    0.000   32.740   32.740 runners.py:86(run)
       44    0.000    0.000   32.740    0.744 base_events.py:1947(_run_once)
        1    0.000    0.000   25.557   25.557 claude_code_cli.py:165(ask_claude_code_cli)
        3    0.000    0.000   23.750    7.917 subprocess_runner.py:571(execute_command)
    23/19    0.000    0.000   23.700    1.247 {method 'close' of '_io.TextIOWrapper' objects}
    16/11   41.136    2.571   17.439    1.585 {method 'read' of '_io.TextIOWrapper' objects}
       44    0.000    0.000   17.015    0.387 windows_events.py:444(select)
       45    0.000    0.000   17.015    0.378 windows_events.py:762(_poll)
       55   17.015    0.309   17.015    0.309 {built-in method _overlapped.GetQueuedCompletionStatus}
        2    0.000    0.000   15.996    7.998 claude_executable_finder.py:48(find_claude_executable)
       61    0.000    0.000   15.724    0.258 events.py:87(_run)
       61    0.000    0.000   15.724    0.258 {method 'run' of '_contextvars.Context' objects}
       14    0.000    0.000   15.722    1.123 claude_code_api.py:456(ask_claude_code_api_detailed)
        1    0.000    0.000   15.698   15.698 claude_code_api.py:212(_create_claude_client)
        1    0.000    0.000   15.698   15.698 claude_code_api.py:118(_verify_claude_before_use)
        1    0.000    0.000   15.684   15.684 claude_executable_finder.py:145(verify_claude_installation)
        1    0.000    0.000    8.081    8.081 claude_code_cli.py:145(_find_claude_executable)
        6    0.000    0.000    0.144    0.024 subprocess.py:1269(wait)
        6    0.000    0.000    0.144    0.024 subprocess.py:1590(_wait)
        8    0.144    0.018    0.144    0.018 {built-in method _winapi.WaitForSingleObject}
        1    0.000    0.000    0.085    0.085 env.py:16(prepare_llm_environment)



TOP FUNCTIONS BY INTERNAL TIME (TIME)
--------------------------------------------------------------------------------
This shows functions sorted by time spent in the function itself (excluding subcalls).

Wed Oct  8 07:45:26 2025    docs\tests\performance_data\prof\tests_llm_providers_claude_test_claude_integration__TestCriticalPathIntegration__test_basic_cli_api_integration.prof

         31266 function calls (31002 primitive calls) in 58.388 seconds

   Ordered by: internal time
   List reduced from 1172 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    16/11   41.136    2.571   17.439    1.585 {method 'read' of '_io.TextIOWrapper' objects}
       55   17.015    0.309   17.015    0.309 {built-in method _overlapped.GetQueuedCompletionStatus}
        8    0.144    0.018    0.144    0.018 {built-in method _winapi.WaitForSingleObject}
     2114    0.029    0.000    0.029    0.000 {built-in method nt._path_exists}
        6    0.027    0.004    0.027    0.004 {built-in method _winapi.CreateProcess}
        2    0.004    0.002    0.004    0.002 {built-in method marshal.load}
     2130    0.002    0.000    0.004    0.000 <frozen ntpath>:99(join)
     10/5    0.002    0.000   41.140    8.228 threading.py:1025(_bootstrap_inner)
       48    0.002    0.000    0.002    0.000 {built-in method nt.stat}
        5    0.002    0.000    0.035    0.007 shutil.py:1503(which)
     4355    0.001    0.000    0.001    0.000 {built-in method nt._path_splitroot_ex}
       10    0.001    0.000   41.141    4.114 {method 'join' of '_thread._ThreadHandle' objects}
       13    0.001    0.000    0.001    0.000 {built-in method _io.open}
     2110    0.001    0.000    0.030    0.000 shutil.py:1488(_access_check)
       10    0.000    0.000    0.000    0.000 {built-in method _thread.start_joinable_thread}
     3620    0.000    0.000    0.001    0.000 {built-in method builtins.isinstance}
      5/2    0.000    0.000    0.002    0.001 {built-in method builtins.exec}
    23/19    0.000    0.000   23.700    1.247 {method 'close' of '_io.TextIOWrapper' objects}
       45    0.000    0.000    0.000    0.000 {built-in method _winapi.CloseHandle}
2452/2450    0.000    0.000    0.000    0.000 {built-in method nt.fspath}
      123    0.000    0.000    0.000    0.000 {built-in method __new__ of type object at 0x00007FFCDBA908A0}
       44    0.000    0.000   32.740    0.744 base_events.py:1947(_run_once)
       45    0.000    0.000   17.015    0.378 windows_events.py:762(_poll)
       64    0.000    0.000    0.000    0.000 _local.py:257(_parse_path)
        4    0.000    0.000   41.227   10.307 subprocess_runner.py:478(execute_subprocess)
      380    0.000    0.000    0.001    0.000 <frozen os>:711(__getitem__)
        6    0.000    0.000    0.000    0.000 {built-in method nt.scandir}
        6    0.000    0.000    0.028    0.005 subprocess.py:814(__init__)
        4    0.000    0.000    0.000    0.000 {built-in method nt._getfinalpathname}
       28    0.000    0.000    0.001    0.000 {built-in method builtins.__build_class__}
     10/5    0.000    0.000   41.139    8.228 threading.py:981(run)
        1    0.000    0.000    0.000    0.000 {method 'connect' of '_socket.socket' objects}
        5    0.000    0.000    0.000    0.000 glob.py:424(select_wildcard)
       11    0.000    0.000    0.000    0.000 {built-in method _winapi.CreatePipe}
      385    0.000    0.000    0.000    0.000 <frozen os>:785(encodekey)
    19/11    0.000    0.000   58.387    5.308 _callers.py:76(_multicall)
      168    0.000    0.000    0.000    0.000 <frozen ntpath>:50(normcase)
        7    0.000    0.000    0.000    0.000 {built-in method nt._path_isdir}
    50/40    0.000    0.000    0.000    0.000 {method 'acquire' of '_thread.lock' objects}
       10    0.000    0.000    0.000    0.000 threading.py:869(__init__)
        6    0.000    0.000    0.027    0.005 subprocess.py:1446(_execute_child)
        7    0.000    0.000    0.000    0.000 {method 'flush' of '_io.TextIOWrapper' objects}
        4    0.000    0.000    0.001    0.000 <frozen os>:750(copy)
      168    0.000    0.000    0.000    0.000 {built-in method _winapi.LCMapStringEx}
        5    0.000    0.000   41.142    8.228 subprocess.py:1613(_communicate)
       61    0.000    0.000   15.724    0.258 {method 'run' of '_contextvars.Context' objects}
        1    0.000    0.000    0.002    0.002 _asyncio.py:1(<module>)
        4    0.000    0.000   41.226   10.306 subprocess_runner.py:133(_run_subprocess)
        6    0.000    0.000    0.000    0.000 subprocess.py:582(list2cmdline)
        6    0.000    0.000    0.000    0.000 subprocess.py:1292(_close_pipe_fds)



CALLER INFORMATION (Top 20)
--------------------------------------------------------------------------------
This shows which functions called the top functions.

   Ordered by: cumulative time
   List reduced from 1172 to 20 due to restriction <20>

Function                                                       was called by...
                                                                   ncalls  tottime  cumtime
runner.py:114(pytest_runtest_protocol)                         <- 
runner.py:122(runtestprotocol)                                 <-       1    0.000   58.388  runner.py:114(pytest_runtest_protocol)
runner.py:230(call_and_report)                                 <-       3    0.000   58.387  runner.py:122(runtestprotocol)
_hooks.py:497(__call__)                                        <-       2    0.000    0.000  fixtures.py:1053(finish)
                                                                        2    0.000    0.000  fixtures.py:1074(execute)
                                                                        1    0.000   58.384  python.py:1669(runtest)
                                                                        2    0.000    0.000  runner.py:114(pytest_runtest_protocol)
                                                                        6    0.000    0.001  runner.py:230(call_and_report)
                                                                        3    0.000   58.387  runner.py:246(<lambda>)
                                                                        3    0.000    0.000  terminal.py:605(pytest_runtest_logreport)
_manager.py:111(_hookexec)                                     <-   19/11    0.000   58.387  _hooks.py:497(__call__)
_callers.py:76(_multicall)                                     <-   19/11    0.000   58.387  _manager.py:111(_hookexec)
runner.py:323(from_call)                                       <-       3    0.000   58.387  runner.py:230(call_and_report)
runner.py:246(<lambda>)                                        <-       3    0.000   58.387  runner.py:323(from_call)
runner.py:167(pytest_runtest_call)                             <-       1    0.000   58.384  _callers.py:76(_multicall)
python.py:1669(runtest)                                        <-       1    0.000   58.384  runner.py:167(pytest_runtest_call)
python.py:150(pytest_pyfunc_call)                              <-       1    0.000   58.383  _callers.py:76(_multicall)
test_claude_integration.py:42(test_basic_cli_api_integration)  <-       1    0.000   58.383  python.py:150(pytest_pyfunc_call)
interface.py:19(ask_llm)                                       <-       2    0.000   58.298  test_claude_integration.py:42(test_basic_cli_api_integration)
claude_code_interface.py:7(ask_claude_code)                    <-       2    0.000   58.298  interface.py:19(ask_llm)
subprocess.py:1175(communicate)                                <-       1    0.000    0.081  subprocess.py:512(run)
                                                                        4    0.000   41.205  subprocess_runner.py:133(_run_subprocess)
subprocess_runner.py:478(execute_subprocess)                   <-       1    0.000   17.476  claude_code_cli.py:165(ask_claude_code_cli)
                                                                        3    0.000   23.750  subprocess_runner.py:571(execute_command)
subprocess_runner.py:133(_run_subprocess)                      <-       4    0.000   41.226  subprocess_runner.py:478(execute_subprocess)
subprocess.py:1613(_communicate)                               <-       5    0.000   41.142  subprocess.py:1175(communicate)
threading.py:1056(join)                                        <-     9/1    0.000    0.000  subprocess.py:1613(_communicate)
                                                                        0    0.000    0.000  threading.py:998(_bootstrap)
{method 'join' of '_thread._ThreadHandle' objects}             <-     5/0    0.000    0.000  threading.py:1056(join)


